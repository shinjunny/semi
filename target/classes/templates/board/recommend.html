<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ì ì‹¬ ë©”ë‰´ ì¶”ì²œ</title>
    <link rel="stylesheet" href="/static/css/home.css" />
    <style>
        .recommend-box {
            display: flex;
            flex-direction: column;
            gap: 10px;
            max-width: 400px;
            margin: 30px auto;
            text-align: center;
        }
        select, button {
            padding: 10px;
            font-size: 16px;
        }
    </style>
</head>
<body>
<header>
    <div class="header img">
        <a>
            <img src="/static/img/dish.png" alt="ë¡œê³ " />
        </a>
    </div>
</header>
<h1 style="text-align:center">ì˜¤ëŠ˜ ë­ ë¨¹ì§€? ğŸ½ï¸</h1>
<div class="recommend-box">
    <select id="mealType" onchange="updateNextSelect('mealType')">
        <option value="" hidden>ì‹ì‚¬ ì¢…ë¥˜ ì„ íƒ</option>
        <option value="meal">ì‹ì‚¬</option>
        <option value="cook">ìš”ë¦¬</option>
        <option value="snack">ê°„ì‹</option>
    </select>

    <select id="foodStyle" onchange="updateNextSelect('foodStyle')" disabled>
        <option value="" hidden>ìŒì‹ ì¢…ë¥˜ ì„ íƒ</option>
        <option value="korean">í•œì‹</option>
        <option value="chinese">ì¤‘ì‹</option>
        <option value="japanese">ì¼ì‹</option>
        <option value="western">ì–‘ì‹</option>
        <option value="asian">ì•„ì‹œì•„</option>
    </select>

    <select id="situation" disabled>
        <option value="" hidden>ìƒí™© ì„ íƒ</option>
        <option value="alone">í˜¼ë°¥</option>
        <option value="friend">ì¹œêµ¬</option>
        <option value="date">ì—°ì¸</option>
        <option value="family">ê°€ì¡±</option>
        <option value="group">ëª¨ì„</option>
    </select>

    <button onclick="recommendMenu()">ë©”ë‰´ ì¶”ì²œ!</button>
    <div id="recommendationResult" style="margin-top: 20px; font-weight: bold;"></div>
</div>

<script>
    const menuMap = {
        "meal_korean_alone": ["ê¹€ì¹˜ì°Œê°œ", "ëœì¥ì°Œê°œ", "ì œìœ¡ë®ë°¥"],
        "meal_japanese_friend": ["ê·œë™", "ê°€ì¸ ë™", "ë¼ë©˜"],
        "snack_asian_group": ["ë‚˜ì‹œê³ ë ", "íŒŸíƒ€ì´", "ë°˜ë¯¸"],
        "cook_western_date": ["ìŠ¤í…Œì´í¬", "ë¼ìëƒ", "ì¹˜í‚¨ ì»¤í‹€ë¦¿"],
        "meal_chinese_family": ["ë§ˆë¼íƒ•", "ì–‘ì¥í”¼", "íŒ”ë³´ì±„"]
        // í•„ìš”í•œ ì¡°í•©ì„ ê³„ì† ì¶”ê°€í•´ ì£¼ì„¸ìš”
    };

    function updateNextSelect(changed) {
        if (changed === 'mealType') {
            document.getElementById('foodStyle').disabled = false;
            document.getElementById('situation').disabled = true;
        }
        if (changed === 'foodStyle') {
            document.getElementById('situation').disabled = false;
        }
    }

    function recommendMenu() {
        const type = document.getElementById('mealType').value;
        const style = document.getElementById('foodStyle').value;
        const situation = document.getElementById('situation').value;

        if (!type || !style || !situation) {
            alert("ëª¨ë“  ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”!");
            return;
        }

        const key = `${type}_${style}_${situation}`;
        const menus = menuMap[key];

        if (!menus || menus.length === 0) {
            document.getElementById('recommendationResult').innerText = "ì¶”ì²œí•  ë©”ë‰´ê°€ ì—†ì–´ìš” ğŸ˜¢";
            return;
        }

        const randomIndex = Math.floor(Math.random() * menus.length);
        const result = menus[randomIndex];
        document.getElementById('recommendationResult').innerText = `ì˜¤ëŠ˜ì˜ ì¶”ì²œ ë©”ë‰´ëŠ”: ğŸ½ï¸ ${result}!`;
    }
</script>
</body>
</html>